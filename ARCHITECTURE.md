üèóÔ∏è Architecture ‚Äì iCoder Plus v2.0

iCoder Plus ‚Äî —ç—Ç–æ –º–æ–¥—É–ª—å–Ω–∞—è AI-first –ø–µ—Å–æ—á–Ω–∏—Ü–∞, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –≤–æ–∫—Ä—É–≥ –ø—Ä–∏–Ω—Ü–∏–ø–∞ Bottom Sheet IDE.
–í—Å—è –ª–æ–≥–∏–∫–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —Å–µ—Ä–≤–∏—Å—ã –∏ —É—Ç–∏–ª–∏—Ç—ã.

üìÇ –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
icoder-plus/
‚îÇ‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/      # UI-–º–æ–¥—É–ª–∏ (React)
‚îÇ   ‚îú‚îÄ‚îÄ services/        # –õ–æ–≥–∏–∫–∞ (AI, —Ñ–∞–π–ª—ã, diff, preview)
‚îÇ   ‚îú‚îÄ‚îÄ utils/           # –£—Ç–∏–ª–∏—Ç—ã –∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ App.jsx          # –ö–æ—Ä–Ω–µ–≤–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ index.js         # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞

üß© –ú–æ–¥—É–ª–∏ –∏ –∏—Ö —Ä–æ–ª—å
1. UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (/components)

BottomSheet.jsx
–ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —ç–∫—Ä–∞–Ω—á–∏–∫–∞.
–°–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏—é –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏ (History, Preview, AI Review, Chat).

FileList.jsx
–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞.
–°–∏–≥–Ω–∞–ª—ã: –≤—ã–±–æ—Ä —Ñ–∞–π–ª–∞, drag&drop, –æ—Ç–∫—Ä—ã—Ç–∏–µ –ø–∞–ø–∫–∏.

DiffViewer.jsx
–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø–æ–¥—Å–≤–µ—Ç–∫—É –∏–∑–º–µ–Ω–µ–Ω–∏–π (—Å—Ç–∞—Ä—ã–π vs –Ω–æ–≤—ã–π –∫–æ–¥).

VersionHistory.jsx
–¢–∞–π–º–ª–∞–π–Ω –≤–µ—Ä—Å–∏–π —Å rollback –∏ —ç–∫—Å–ø–æ—Ä—Ç–æ–º/–∏–º–ø–æ—Ä—Ç–æ–º JSON.

PreviewRunner.jsx
–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ JS —á–µ—Ä–µ–∑ eval, —Ä–µ–Ω–¥–µ—Ä HTML —á–µ—Ä–µ–∑ <iframe>.

AIChat.jsx
–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —á–∞—Ç-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –ø—Ä–æ –∫–æ–¥.

AIReviewPanel.jsx
–ü–∞–Ω–µ–ª—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π: —Å—Ç–∏–ª–∏, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, –±–∞–≥–∏.

AIFixButton.jsx
–ö–Ω–æ–ø–∫–∞ "üí° Apply AI Fix" ‚Üí –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é —Å –∞–≤—Ç–æ–ø—Ä–∞–≤–∫–∞–º–∏.

2. –°–µ—Ä–≤–∏—Å—ã (/services)

fileService.js
–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π (File System API, drag&drop).

diffService.js
–ê–ª–≥–æ—Ä–∏—Ç–º—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è (–Ω–∞ –±–∞–∑–µ jsdiff –∏–ª–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ).

historyService.js
–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏, rollback, —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç JSON.

previewService.js
–ó–∞–ø—É—Å–∫ –∫–æ–¥–∞ (JS, HTML). –í –±—É–¥—É—â–µ–º ‚Äî sandbox Python.

aiService.js
–û–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ OpenAI/Claude API:

commit notes,

—Ä–µ–≤—å—é –∫–æ–¥–∞,

—á–∞—Ç,

–∞–≤—Ç–æ—Ñ–∏–∫—Å—ã.

fixService.js
–ü—Ä–∞–≤–∏–ª–∞ –∞–≤—Ç–æ-–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

var ‚Üí let/const,

—É–¥–∞–ª–µ–Ω–∏–µ console.log,

–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏–º–ø–æ—Ä—Ç–∞.

3. –£—Ç–∏–ª–∏—Ç—ã (/utils)

versioning.js ‚Üí –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–µ—Ä—Å–∏–π (v1.0, v1.1, v2.0).

logger.js ‚Üí –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, ‚ÄúAI Fix applied‚Äù).

helpers.js ‚Üí —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞, –ø–æ–¥—Å–≤–µ—Ç–∫–∞ diff.

üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö
flowchart TD
  User[üë®‚Äçüíª User] -->|Drag & Drop File| FileService
  FileService --> HistoryService
  HistoryService --> DiffService
  DiffService --> BottomSheet

  BottomSheet -->|Show Changes| DiffViewer
  BottomSheet --> FileList
  BottomSheet --> VersionHistory
  BottomSheet --> PreviewRunner

  HistoryService -->|Export/Import| JSON[üì§ JSON File]

  HistoryService --> AIService
  AIService -->|Commit Note + Review| AIReviewPanel
  AIService -->|Fix| AIFixButton
  AIService -->|Chat| AIChat

  PreviewRunner -->|Run/Render| Output[‚ö° Preview Window]

üöÄ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

AI-first: –∫–∞–∂–¥—ã–π —à–∞–≥ –∫–æ–¥–∞ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ—Ç—Å—è AI (review, notes, fixes).

–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å: –ª–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å aiService –Ω–∞ –¥—Ä—É–≥–æ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä (OpenAI ‚Üí Claude ‚Üí Local LLM).

JSON-based History: –∏—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ JSON ‚Üí –ø–µ—Ä–µ–Ω–æ—Å–∏–º–∞—è, —É–¥–æ–±–Ω–∞ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞.

UI-–º–∏–∫—Ä–æ-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: –∫–∞–∂–¥—ã–π –±–ª–æ–∫ (diff, —á–∞—Ç, preview) –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ.

Bottom Sheet UX: –º–∏–Ω–∏–º–∞–ª–∏–∑–º ‚Äî –≤—Å—ë –ø–æ–¥ —Ä—É–∫–æ–π, –±–µ–∑ –≥—Ä–æ–º–æ–∑–¥–∫–æ–π IDE.

üåå Roadmap –¥–ª—è v3.0

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ Python execution (—á–µ—Ä–µ–∑ Pyodide/WebAssembly).

Collaborative Mode (–Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –æ–¥–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ).

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ Docker-–ø–µ—Å–æ—á–Ω–∏—Ü –¥–ª—è –±—ç–∫–µ–Ω–¥-–∫–æ–¥–∞.

Marketplace AI Fix Plugins (–ø—Ä–∞–≤–∏–ª–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ —è–∑—ã–∫–∏).